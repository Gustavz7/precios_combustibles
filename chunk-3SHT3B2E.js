import"./chunk-P5XTB4AY.js";import{a as ce}from"./chunk-Z5FMLEE7.js";import{$ as S,$a as F,Ab as re,B as Qt,Bb as ae,Ca as b,Cb as xt,D as X,Db as oe,Eb as Q,Gb as It,Ia as N,Ja as v,K as Yt,L as qt,La as et,M as Xt,Ma as it,N as J,Na as nt,Oa as m,Pa as l,Qa as D,R as f,Ra as H,S as p,Sa as T,Ta as k,U as Ot,Ua as bt,Va as vt,W as d,Wa as yt,X as V,Xa as st,Ya as W,Z as I,Za as K,_ as u,_a as A,a as C,ab as te,b as q,bb as kt,cb as ee,ea as tt,eb as M,fa as R,fb as $,g as ut,ga as P,gb as ie,hb as ne,ib as se,j as gt,jb as rt,k as O,ka as E,ma as Z,qa as ft,s as L,sa as Jt,t as _t,ta as Lt,v as $t,va as c,wa as g,xb as wt}from"./chunk-YCCRMIHD.js";var z=class{constructor(){this.codigo="",this.en_mantenimiento=0,this.horario_atencion="",this.razon_social="",this.distribuidor=new Tt,this.ubicacion=new at,this.precios=new Array}},Tt=class{constructor(){this.marca="",this.logo="",this.imagen=""}},Mt=class{constructor(t,s,e,i,r,a,o){this.categoria=t,this.nombre=s,this.unidad_cobro=e,this.precio=i,this.fecha_actualizacion=r,this.hora_actualizacion=a,this.tipo_atencion=o}};var at=class{constructor(){this.nombre_region=le.MetropolitanaDeSantiago,this.codigo_region="",this.nombre_comuna="",this.codigo_comuna="",this.direccion="",this.latitud="",this.longitud=""}},le=function(n){return n.Antofagasta="Antofagasta",n.AricaYParinacota="Arica y Parinacota",n.Atacama="Atacama",n.Ays\u00E9nDelGralCarlosIb\u00E1\u00F1ezDelCampo="Ays\xE9n del Gral. Carlos Ib\xE1\xF1ez del Campo",n.Coquimbo="Coquimbo",n.DeLaAraucan\u00EDa="De la Araucan\xEDa",n.DeLosLagos="De los Lagos",n.DeLosR\u00EDos="De los R\xEDos",n.DelBiob\u00EDo="Del Biob\xEDo",n.DelLibertadorGralBernardoOHiggins="Del Libertador Gral. Bernardo O\u2019Higgins",n.DelMaule="Del Maule",n.MagallanesYDeLaAnt\u00E1rticaChilena="Magallanes y de la Ant\xE1rtica Chilena",n.MetropolitanaDeSantiago="Metropolitana de Santiago",n.Tarapac\u00E1="Tarapac\xE1",n.Valpara\u00EDso="Valpara\xEDso",n.\u00D1uble="\xD1uble",n}(le||{});function Ft(n){return Array.isArray(n)?n:[n]}function St(n){return n instanceof E?n.nativeElement:n}var Rt;try{Rt=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Rt=!1}var ct=(()=>{let t=class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?It(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Rt)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(i){return new(i||t)(d(ft))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ot;function Ze(){if(ot==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ot=!0}))}finally{ot=ot||!1}return ot}function Pt(n){return Ze()?n:!!n.capture}function de(n){return n.composedPath?n.composedPath()[0]:n.target}function me(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var He=(()=>{let t=class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ue=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({providers:[He]});let n=t;return n})();var ge=new Set,U,Ue=(()=>{let t=class t{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):We}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Ge(e,this._nonce),this._matchMedia(e)}};t.\u0275fac=function(i){return new(i||t)(d(ct),d(Jt,8))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ge(n,t){if(!ge.has(n))try{U||(U=document.createElement("style"),t&&U.setAttribute("nonce",t),U.setAttribute("type","text/css"),document.head.appendChild(U)),U.sheet&&(U.sheet.insertRule(`@media ${n} {body{ }}`,0),ge.add(n))}catch(s){console.error(s)}}function We(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var fe=(()=>{let t=class t{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new gt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _e(Ft(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=_e(Ft(e)).map(o=>this._registerQuery(o).observable),a=_t(r);return a=$t(a.pipe(X(1)),a.pipe(Yt(1),Qt(0))),a.pipe(L(o=>{let _={matches:!1,breakpoints:{}};return o.forEach(({matches:y,query:h})=>{_.matches=_.matches||y,_.breakpoints[h]=y}),_}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),a={observable:new ut(o=>{let _=y=>this._zone.run(()=>o.next(y));return i.addListener(_),()=>{i.removeListener(_)}}).pipe(qt(i),L(({matches:o})=>({query:e,matches:o})),J(this._destroySubject)),mql:i};return this._queries.set(e,a),a}};t.\u0275fac=function(i){return new(i||t)(d(Ue),d(b))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function _e(n){return n.map(t=>t.split(",")).reduce((t,s)=>t.concat(s)).map(t=>t.trim())}function ye(n){return n.buttons===0||n.detail===0}function ke(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var G=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(G||{}),be="cdk-high-contrast-black-on-white",ve="cdk-high-contrast-white-on-black",Nt="cdk-high-contrast-active",we=(()=>{let t=class t{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=V(fe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return G.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return G.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return G.BLACK_ON_WHITE}return G.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Nt,be,ve),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===G.BLACK_ON_WHITE?e.add(Nt,be):i===G.WHITE_ON_BLACK&&e.add(Nt,ve)}}};t.\u0275fac=function(i){return new(i||t)(d(ct),d(wt))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var Bt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({});let n=t;return n})();function qe(){return!0}var Xe=new Ot("mat-sanity-checks",{providedIn:"root",factory:qe}),j=(()=>{let t=class t{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return me()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}};t.\u0275fac=function(i){return new(i||t)(d(we),d(Xe,8),d(wt))},t.\u0275mod=u({type:t}),t.\u0275inj=p({imports:[Bt,Bt]});let n=t;return n})();var x=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(x||{}),Vt=class{constructor(t,s,e,i=!1){this._renderer=t,this.element=s,this.config=e,this._animationForciblyDisabledThroughCss=i,this.state=x.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ie=Pt({passive:!0,capture:!0}),Zt=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let s=de(t);s&&this._events.get(t.type)?.forEach((e,i)=>{(i===s||i.contains(s))&&e.forEach(r=>r.handleEvent(t))})}}addHandler(t,s,e,i){let r=this._events.get(s);if(r){let a=r.get(e);a?a.add(i):r.set(e,new Set([i]))}else this._events.set(s,new Map([[e,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(s,this._delegateEventHandler,Ie)})}removeHandler(t,s,e){let i=this._events.get(t);if(!i)return;let r=i.get(s);r&&(r.delete(e),r.size===0&&i.delete(s),i.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Ie)))}},Me={enterDuration:225,exitDuration:150},Je=800,Ce=Pt({passive:!0,capture:!0}),Ee=["mousedown","touchstart"],De=["mouseup","mouseleave","touchend","touchcancel"],lt=class lt{constructor(t,s,e,i){this._target=t,this._ngZone=s,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=St(e))}fadeInRipple(t,s,e={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=C(C({},Me),e.animation);e.centered&&(t=i.left+i.width/2,s=i.top+i.height/2);let a=e.radius||ti(t,s,i),o=t-i.left,_=s-i.top,y=r.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${o-a}px`,h.style.top=`${_-a}px`,h.style.height=`${a*2}px`,h.style.width=`${a*2}px`,e.color!=null&&(h.style.backgroundColor=e.color),h.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(h);let Ut=window.getComputedStyle(h),Ve=Ut.transitionProperty,Gt=Ut.transitionDuration,At=Ve==="none"||Gt==="0s"||Gt==="0s, 0s"||i.width===0&&i.height===0,B=new Vt(this,h,e,At);h.style.transform="scale3d(1, 1, 1)",B.state=x.FADING_IN,e.persistent||(this._mostRecentTransientRipple=B);let pt=null;return!At&&(y||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let Wt=()=>{pt&&(pt.fallbackTimer=null),clearTimeout(Kt),this._finishRippleTransition(B)},zt=()=>this._destroyRipple(B),Kt=setTimeout(zt,y+100);h.addEventListener("transitionend",Wt),h.addEventListener("transitioncancel",zt),pt={onTransitionEnd:Wt,onTransitionCancel:zt,fallbackTimer:Kt}}),this._activeRipples.set(B,pt),(At||!y)&&this._finishRippleTransition(B),B}fadeOutRipple(t){if(t.state===x.FADING_OUT||t.state===x.HIDDEN)return;let s=t.element,e=C(C({},Me),t.config.animation);s.style.transitionDuration=`${e.exitDuration}ms`,s.style.opacity="0",t.state=x.FADING_OUT,(t._animationForciblyDisabledThroughCss||!e.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let s=St(t);!this._platform.isBrowser||!s||s===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=s,Ee.forEach(e=>{lt._eventManager.addHandler(this._ngZone,e,s,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{De.forEach(s=>{this._triggerElement.addEventListener(s,this,Ce)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===x.FADING_IN?this._startFadeOutTransition(t):t.state===x.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let s=t===this._mostRecentTransientRipple,{persistent:e}=t.config;t.state=x.VISIBLE,!e&&(!s||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let s=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=x.HIDDEN,s!==null&&(t.element.removeEventListener("transitionend",s.onTransitionEnd),t.element.removeEventListener("transitioncancel",s.onTransitionCancel),s.fallbackTimer!==null&&clearTimeout(s.fallbackTimer)),t.element.remove()}_onMousedown(t){let s=ye(t),e=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Je;!this._target.rippleDisabled&&!s&&!e&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!ke(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let s=t.changedTouches;if(s)for(let e=0;e<s.length;e++)this.fadeInRipple(s[e].clientX,s[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let s=t.state===x.VISIBLE||t.config.terminateOnPointerUp&&t.state===x.FADING_IN;!t.config.persistent&&s&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Ee.forEach(s=>lt._eventManager.removeHandler(s,t,this)),this._pointerUpEventsRegistered&&(De.forEach(s=>t.removeEventListener(s,this,Ce)),this._pointerUpEventsRegistered=!1))}};lt._eventManager=new Zt;var Ht=lt;function ti(n,t,s){let e=Math.max(Math.abs(n-s.left),Math.abs(n-s.right)),i=Math.max(Math.abs(t-s.top),Math.abs(t-s.bottom));return Math.sqrt(e*e+i*i)}var ze=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({imports:[j,j]});let n=t;return n})();var Oe=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({imports:[j]});let n=t;return n})();var Ct=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({imports:[j,j]});let n=t;return n})();var Le=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({imports:[ue,Q,j,ze,Oe,Ct]});let n=t;return n})();var Et=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="assets/data.json",this.estacionSubject=new O(new z),this.estacionActual$=this.estacionSubject.asObservable(),this.estacionCercanaSubject=new O(new z),this.estacionCercana$=this.estacionCercanaSubject.asObservable(),this.order=["97","95","93","DI","KE"],this.location=[-38.7333306601131,-72.6149350404734]}getApiResults(){return this.http.get(this.apiUrl)}getUbicaciones(){return this.getApiResults().pipe(L(e=>e.map(i=>i.ubicacion)))}getEstaciones(){return this.getApiResults().pipe(L(e=>e))}getEstacion(e,i){return this.getApiResults().pipe(L(r=>r.find(o=>e===Number(o.ubicacion.latitud)&&i===Number(o.ubicacion.longitud))??new z))}setEstacionActual(e,i,r){r==null?this.getEstacion(e,i).subscribe(a=>{this.estacionCercanaSubject.next(a)}):(this.estacionCercanaSubject.next(r),this.estacionSubject.next(r))}defineEstacionCercana(e,i){this.getUbicaciones().subscribe(r=>{let a=r.map(o=>[Number(o.latitud),Number(o.longitud)]).reduce((o,_)=>{e??(e=this.location[1]),i==null&&(i=this.location[0]);let y=Math.sqrt(Math.pow(_[0]-i,2)+Math.pow(_[1]-e,2)),h=Math.sqrt(Math.pow(o[0]-i,2)+Math.pow(o[1]-e,2));return y<h?_:o});this.setEstacionActual(a[0],a[1])})}};t.\u0275fac=function(i){return new(i||t)(d(ce))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var ni=(n,t,s,e)=>({"item-gas":n,"item-petrol":t,"item-kerosene":s,"item-glp":e});function si(n,t){if(n&1&&(m(0,"li",15)(1,"div",16)(2,"span"),F(3),l()(),F(4),ne(5,"currency"),l()),n&2){let s=t.$implicit;c(),v("ngClass",ie(5,ni,s.categoria==="GASOLINA",s.categoria==="PETROLEO",s.categoria==="KEROSENO",s.categoria==="GLP")),c(2),te(s.nombre),c(),kt(" ",se(5,3,s.precio)," ")}}function ri(n,t){if(n&1&&(m(0,"div",12),F(1),m(2,"ol",13),N(3,si,6,10,"li",14),l()()),n&2){let s=k();c(),ee(" ",s.estacionActual.ubicacion.direccion," - ",s.estacionActual.ubicacion.nombre_comuna," (",s.estacionActual.ubicacion.nombre_comuna,") "),c(2),v("ngForOf",s.combustiblesInfo)}}function ai(n,t){n&1&&F(0," cargando.. ")}var Fe=(()=>{let t=class t{constructor(e){this.combustibleService=e,this.combustiblesInfo=new Array,this.estacionActual=new z,this.src_copec="https://th.bing.com/th/id/OIP.OlbJwLagnfWNxVjKcpSB-AHaDt?rs=1&pid=ImgDetMain",this.src_shell="https://th.bing.com/th/id/OIP.4Mo_UpBJ0b4-uYcPxzKk0QHaEA?rs=1&pid=ImgDetMain",this.src_petrobras="https://www.petrobrasdistribucion.cl/wp-content/uploads/2023/01/DJI_0319-HDR-scaled-1600x800.jpg",this.src_unknown="https://upload.wikimedia.org/wikipedia/commons/7/75/No_image_available.png"}ngOnInit(){this.obtenerDetallesEstacion()}ngOnDestroy(){}obtenerDetallesEstacion(){this.combustiblesInfo=new Array,this.combustibleService.defineEstacionCercana(),this.combustibleService.estacionCercana$.subscribe(e=>{this.setDetallesEstacionActual(e);let i=e.precios;this.combustiblesInfo=new Array;for(let r in i)i.hasOwnProperty(r)&&this.combustiblesInfo?.push(new Mt(this.setCategoria(r),r,i[r].unidad_cobro,i[r].precio,i[r].fecha_actualizacion,i[r].hora_actualizacion,i[r].tipo_atencion))})}setCategoria(e){let i="GASOLINA";switch(e){case"93":case"95":case"97":break;case"DI":case"ADI":i="PETROLEO";break;case"KE":case"AKE":i="KEROSENO";break;default:i=e;break}return i}setDetallesEstacionActual(e){switch(this.estacionActual=e,this.estacionActual.distribuidor.marca){case"COPEC":this.estacionActual.distribuidor.imagen=this.src_copec;break;case"SHELL":this.estacionActual.distribuidor.imagen=this.src_shell;break;case"PETROBRAS":this.estacionActual.distribuidor.imagen=this.src_petrobras;break;default:this.estacionActual.distribuidor.imagen=this.src_unknown;break}}};t.\u0275fac=function(i){return new(i||t)(g(Et))},t.\u0275cmp=I({type:t,selectors:[["app-prices"]],standalone:!0,features:[M],decls:13,vars:6,consts:[["cargando",""],[1,"prices-component"],[1,"prices-card"],[1,"card-img"],[1,"distribuidor-img-container"],[1,"distribuidor-img",3,"src"],[1,"distribuidor-logo",3,"src","alt"],[1,"distribuidor-text-container"],[1,"distribuidor-text"],[1,"card-details"],["class","distribuidor-prices-container",4,"ngIf","ngIfElse"],[1,"price-info"],[1,"distribuidor-prices-container"],[1,"prices-list"],["class","price-list-item",4,"ngFor","ngForOf"],[1,"price-list-item"],[1,"list-item-gas-type",3,"ngClass"]],template:function(i,r){if(i&1&&(m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),D(4,"img",5)(5,"img",6),l()(),m(6,"div",7)(7,"div",8),F(8),l()(),m(9,"div",9),N(10,ri,4,4,"div",10),l(),N(11,ai,1,0,"ng-template",11,0,rt),l()()),i&2){let a=A(12);c(4),yt("src",r.estacionActual.distribuidor.imagen,Lt),c(),yt("src",r.estacionActual.distribuidor.logo,Lt),yt("alt",r.estacionActual.distribuidor.marca),c(3),kt(" ",r.estacionActual.distribuidor.marca," "),c(2),v("ngIf",r.combustiblesInfo.length>1)("ngIfElse",a)}},dependencies:[Q,re,ae,xt,oe,Ct,Le],styles:[".prices-component[_ngcontent-%COMP%]{height:100%;color:#fff;border-style:solid;border-radius:5px;border-color:transparent;color:#000}.prices-card[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;width:100%;height:100%;background:#f5f5f5}.card-img[_ngcontent-%COMP%]{width:100%;height:25%;align-self:flex-start}.card-details[_ngcontent-%COMP%]{width:100%;height:75%;border-top:5px solid;border-color:#ccc}.distribuidor-img-container[_ngcontent-%COMP%]{width:100%;height:100%;align-self:flex-start;overflow:hidden}.distribuidor-img[_ngcontent-%COMP%]{min-width:200px;height:auto;width:100%;overflow:hidden}.distribuidor-logo[_ngcontent-%COMP%]{max-width:100px;position:fixed;top:0;left:0;z-index:5}.distribuidor-text-container[_ngcontent-%COMP%]{width:100%;height:10%;display:flex;align-items:center}.distribuidor-text[_ngcontent-%COMP%]{margin:auto}.distribuidor-prices-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;align-items:center}.prices-list[_ngcontent-%COMP%]{max-height:500px;font-family:Raleway,sans-serif;list-style:none;padding-left:0;display:flex;flex-direction:column;align-items:center;flex-wrap:wrap}.price-list-item[_ngcontent-%COMP%]{background:#fff;border-radius:0 .5rem .5rem;margin-top:1rem;padding:1rem}.list-item-gas-type[_ngcontent-%COMP%]{display:inline;color:#292929;line-height:20px;border-radius:20%;text-align:center;padding:.5rem}.item-gas[_ngcontent-%COMP%]{border:2px solid #0bad02}.item-petrol[_ngcontent-%COMP%]{border:2px solid #2378D5}.item-kerosene[_ngcontent-%COMP%]{border:2px solid #000a74}.item-electric[_ngcontent-%COMP%]{border:2px solid #02ad9f}.item-glp[_ngcontent-%COMP%]{border:2px solid #ad9902}.list-item-gas-type[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline;font-size:32px}"]});let n=t;return n})();var oi=["*"],mt=class{_clearListeners(){for(let t of this._listeners)t.remove();this._listeners=[]}constructor(t){this._ngZone=t,this._pending=[],this._listeners=[],this._targetStream=new O(void 0)}getLazyEmitter(t){return this._targetStream.pipe(Xt(s=>{let e=new ut(i=>{if(!s){this._pending.push({observable:e,observer:i});return}let r=s.addListener(t,a=>{this._ngZone.run(()=>i.next(a))});if(!r){i.complete();return}return this._listeners.push(r),()=>r.remove()});return e}))}setTarget(t){let s=this._targetStream.value;t!==s&&(s&&(this._clearListeners(),this._pending=[]),this._targetStream.next(t),this._pending.forEach(e=>e.observable.subscribe(e.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},dt={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},Se="500px",Re="500px",Y=(()=>{let t=class t{set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||dt}constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new mt(V(b)),this.height=Se,this.width=Re,this._options=dt,this.mapInitialized=new Z,this.authFailure=new Z,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=It(r),this._isBrowser){let a=window;a.google,this._existingAuthFailureCallback=a.gm_authFailure,a.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&this._zoom!=null&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(X(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":Pe(this.height)||Se,e.width=this.width===null?"":Pe(this.width)||Re}}_combineOptions(){let e=this._options||{};return q(C({},e),{center:this._center||e.center||dt.center,zoom:this._zoom??e.zoom??dt.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||dt.mapTypeId,mapId:this.mapId||e.mapId})}_assertInitialized(){this.googleMap}};t.\u0275fac=function(i){return new(i||t)(g(E),g(b),g(ft))},t.\u0275cmp=I({type:t,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],standalone:!0,features:[tt,M],ngContentSelectors:oi,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){i&1&&(bt(),D(0,"div",0),vt(1))},encapsulation:2,changeDetection:0});let n=t;return n})(),ci=/([A-Za-z%]+)$/;function Pe(n){return n==null?"":ci.test(n)?n:`${n}px`}var Dt=(()=>{let t=class t{set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}constructor(e,i,r){this._googleMap=e,this._elementRef=i,this._ngZone=r,this._eventManager=new mt(V(b)),this._options=new O({}),this._position=new O(void 0),this._destroy=new gt,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed"),this.infoWindowInitialized=new Z}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(X(1)).subscribe(e=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,e):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(i=>{this._initialize(i.InfoWindow,e)})})})}_initialize(e,i){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new e(i),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}openAdvancedMarkerElement(e,i){this.open({getAnchor:()=>e},void 0,i)}open(e,i,r){this._assertInitialized();let a=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==a||!a)&&(this._elementRef.nativeElement.style.display="",r&&this.infoWindow.setContent(r),this.infoWindow.open({map:this._googleMap.googleMap,anchor:a,shouldFocus:i}))}_combineOptions(){return _t([this._options,this._position]).pipe(L(([e,i])=>q(C({},e),{position:i||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(J(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe(J(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}};t.\u0275fac=function(i){return new(i||t)(g(Y),g(E),g(b))},t.\u0275dir=S({type:t,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"],standalone:!0});let n=t;return n})();var li={position:{lat:37.221995,lng:-122.184092}},Ne=(()=>{let t=class t{set title(e){this._title=e}set position(e){this._position=e}set content(e){this._content=e}set gmpDraggable(e){this._draggable=e}set options(e){this._options=e}set zIndex(e){this._zIndex=e}constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new mt(V(b)),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.markerInitialized=new Z}ngOnInit(){this._googleMap._isBrowser&&(google.maps.marker?.AdvancedMarkerElement&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.marker.AdvancedMarkerElement):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,i])=>{this._initialize(e,i.AdvancedMarkerElement)})}))}_initialize(e,i){this._ngZone.runOutsideAngular(()=>{this.advancedMarker=new i(this._combineOptions()),this._assertInitialized(),this.advancedMarker.map=e,this._eventManager.setTarget(this.advancedMarker),this.markerInitialized.next(this.advancedMarker)})}ngOnChanges(e){let{advancedMarker:i,_content:r,_position:a,_title:o,_draggable:_,_zIndex:y}=this;i&&(e.title&&(i.title=o),e.content&&(i.content=r),e.gmpDraggable&&(i.gmpDraggable=_),e.content&&(i.content=r),e.position&&(i.position=a),e.zIndex&&(i.zIndex=y))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.advancedMarker&&(this.advancedMarker.map=null)}getAnchor(){return this._assertInitialized(),this.advancedMarker}_combineOptions(){let e=this._options||li;return q(C({},e),{title:this._title||e.title,position:this._position||e.position,content:this._content||e.content,zIndex:this._zIndex??e.zIndex,gmpDraggable:this._draggable??e.gmpDraggable,map:this._googleMap.googleMap})}_assertInitialized(){}};t.\u0275fac=function(i){return new(i||t)(g(Y),g(b))},t.\u0275dir=S({type:t,selectors:[["map-advanced-marker"]],inputs:{title:"title",position:"position",content:"content",gmpDraggable:"gmpDraggable",options:"options",zIndex:"zIndex"},outputs:{mapClick:"mapClick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",markerInitialized:"markerInitialized"},exportAs:["mapAdvancedMarker"],standalone:!0,features:[tt]});let n=t;return n})();var je=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=u({type:t}),t.\u0275inj=p({});let n=t;return n})();var ht=(n,t)=>({lat:n,lng:t});function mi(n,t){if(n&1){let s=H();m(0,"map-advanced-marker",10,1),T("mapClick",function(){let i=R(s).$implicit,r=A(1),a=k(2);return P(a.onMarkerClick(r,i))}),l()}if(n&2){let s=t.$implicit;v("position",$(2,ht,s.lat,s.lng))("content",s.content)}}function hi(n,t){if(n&1){let s=H();m(0,"map-advanced-marker",10,1),T("mapClick",function(){let i=R(s).$implicit,r=A(1),a=k(2);return P(a.onMarkerClick(r,i))}),l()}if(n&2){let s=t.$implicit;v("position",$(2,ht,s.lat,s.lng))("content",s.content)}}function pi(n,t){if(n&1){let s=H();m(0,"map-advanced-marker",10,1),T("mapClick",function(){let i=R(s).$implicit,r=A(1),a=k(2);return P(a.onMarkerClick(r,i))}),l()}if(n&2){let s=t.$implicit;v("position",$(2,ht,s.lat,s.lng))("content",s.content)}}function ui(n,t){if(n&1){let s=H();m(0,"map-advanced-marker",10,1),T("mapClick",function(){let i=R(s).$implicit,r=A(1),a=k(2);return P(a.onMarkerClick(r,i))}),l()}if(n&2){let s=t.$implicit;v("position",$(2,ht,s.lat,s.lng))("content",s.content)}}function gi(n,t){if(n&1){let s=H();m(0,"div",6)(1,"google-map",7),T("mapClick",function(i){R(s);let r=k();return P(r.moveMap(i))}),m(2,"map-advanced-marker",8,1),T("mapClick",function(){R(s);let i=A(3),r=k();return P(r.onMarkerClick(i,r.marker_estacion_cercana))}),l(),it(4,mi,2,5,"map-advanced-marker",9,et),it(6,hi,2,5,"map-advanced-marker",9,et),it(8,pi,2,5,"map-advanced-marker",9,et),it(10,ui,2,5,"map-advanced-marker",9,et),D(12,"map-info-window",null,2),l()()}if(n&2){let s=k();c(),v("width",null)("height",null)("options",s.options)("center",s.center_position),c(),v("position",$(7,ht,s.marker_estacion_cercana.lat,s.marker_estacion_cercana.lng))("content",s.imageEstacionCercana)("zIndex",5),c(2),nt(s.markers_otras_estaciones),c(2),nt(s.markers_copec),c(2),nt(s.markers_shell),c(2),nt(s.markers_petrobras)}}function _i(n,t){n&1&&F(0," cargando mapa.. ")}var Be=(()=>{let t=class t{constructor(e){this.combustibleService=e,this.center_position={lat:0,lng:0},this.enableGeolocalization=!1,this.mapReady=!1,this.options={mapId:"DEMO_MAP_ID",center:null,zoom:14,mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!1,minZoom:10},this.marker_estacion_cercana={lat:0,lng:0},this.markers_copec=[],this.markers_shell=[],this.markers_petrobras=[],this.markers_otras_estaciones=[],this.estacionActualSubject=new O(new z),this.detalles_ubicacion_actual$=this.estacionActualSubject.asObservable(),this.detalles_ubicacion=new at,this.ubicacion_estacion_cercana=[],this.imageEstacionCercana=document.createElement("img")}ngOnInit(){this.imageEstacionCercana.src="https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png",this.combustibleService.estacionCercana$.subscribe(e=>{let i=Number(e.ubicacion.latitud),r=Number(e.ubicacion.longitud);i!=0&&r!=0&&(this.center_position.lat=i,this.center_position.lng=r,this.options.center=this.center_position,this.mapReady=!0)}),this.combustibleService.estacionCercana$.subscribe(e=>{this.detalles_ubicacion=e.ubicacion,this.marker_estacion_cercana.lat=Number(e.ubicacion.latitud),this.marker_estacion_cercana.lng=Number(e.ubicacion.longitud)}),this.mapLocations()}moveMap(e){e.latLng!=null&&(this.center_position=e.latLng.toJSON())}onMarkerClick(e,i){this.combustibleService.getEstacion(i.lat,i.lng).subscribe(r=>{this.infoWindow.open(e,!0,r.ubicacion.direccion+","+r.ubicacion.nombre_comuna),this.combustibleService.setEstacionActual(i.lat,i.lng,r)})}mapLocations(){this.combustibleService.getEstaciones().subscribe(e=>{e.forEach(i=>{let r=Number(i.ubicacion.latitud),a=Number(i.ubicacion.longitud);if(!isNaN(r)&&!isNaN(a)&&r!==0&&a!==0)switch(i.distribuidor.marca){case"COPEC":this.markers_copec.push({lat:r,lng:a});break;case"SHELL":this.markers_shell.push({lat:r,lng:a});break;case"PETROBRAS":this.markers_petrobras.push({lat:r,lng:a});break;default:this.markers_otras_estaciones.push({lat:r,lng:a});break}})})}};t.\u0275fac=function(i){return new(i||t)(g(Et))},t.\u0275cmp=I({type:t,selectors:[["app-map"]],viewQuery:function(i,r){if(i&1&&(st(Dt,5),st(Y,5)),i&2){let a;W(a=K())&&(r.infoWindow=a.first),W(a=K())&&(r.map=a.first)}},standalone:!0,features:[M],decls:4,vars:2,consts:[["cargando",""],["markerElem","mapAdvancedMarker"],["infoWindow",""],[1,"google-container"],["class","map",4,"ngIf","ngIfElse"],[1,""],[1,"map"],[3,"mapClick","width","height","options","center"],[1,"marker-estacion-actual",3,"mapClick","position","content","zIndex"],[3,"position","content"],[3,"mapClick","position","content"]],template:function(i,r){if(i&1&&(m(0,"div",3),N(1,gi,14,10,"div",4)(2,_i,1,0,"ng-template",5,0,rt),l()),i&2){let a=A(3);c(),v("ngIf",r.mapReady)("ngIfElse",a)}},dependencies:[je,Y,Dt,Ne,Q,xt],styles:[`.google-container{width:100%;min-height:100%;background-color:#647c8490}.marker-estacion-actual{z-index:5}
`],encapsulation:2});let n=t;return n})();var gs=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=I({type:t,selectors:[["app-home"]],standalone:!0,features:[M],decls:3,vars:0,consts:[[1,"components-container"]],template:function(i,r){i&1&&(m(0,"div",0),D(1,"app-prices")(2,"app-map"),l())},dependencies:[Fe,Be],styles:[".components-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}app-prices[_ngcontent-%COMP%]{width:30%;height:100vh;left:0;z-index:5}app-map[_ngcontent-%COMP%]{width:70%;height:100%}"]});let n=t;return n})();export{gs as HomeComponent};
